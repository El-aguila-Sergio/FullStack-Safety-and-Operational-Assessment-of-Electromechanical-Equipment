<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ°”è±¡é¢„æŠ¥ - æœºç”µè®¾å¤‡å®‰å…¨è¯„ä¼°ç³»ç»Ÿ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* ç¡®ä¿ body å æ»¡æ•´ä¸ªè§†å£ */
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            font-family: 'Microsoft YaHei', Arial, sans-serif;
        }

        /* æ•´ä½“èƒŒæ™¯ - ä¸æ°”è±¡ç›‘æµ‹å¤§å±ä¸€è‡´çš„é£æ ¼ */
        body {
            background: 
                linear-gradient(rgba(74, 85, 112, 0.8), rgba(66, 80, 122, 0.8)),
                url('https://vcg00.cfp.cn/creative/vcg/800/new/VCG41N1358149692.jpg');
            background-size: cover;
            background-position: center;
            color: #e0e0e0;
            display: flex;
            flex-direction: column;
        }

        /* å¤´éƒ¨æ ·å¼ */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 15px;
            background: rgba(0, 10, 30, 0.5);
            color: #e0e0e0;
            width: 100%;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            border-bottom: 1px solid rgba(0, 150, 255, 0.3);
            backdrop-filter: blur(5px);
            z-index: 1000;
            position: relative;
            flex-shrink: 0;
            height: 50px; /* å›ºå®šé«˜åº¦ */
        }

        .header-title {
            font-size: 1.8em;
            margin: 0;
            flex-grow: 1;
            text-align: center;
            color: #00c8ff;
            text-shadow: 0 0 8px rgba(0, 200, 255, 0.5);
            letter-spacing: 2px;
        }

        .header-date {
            font-size: 1em;
            margin: 0;
            position: relative;
            left: -80px;
            color: #00c8ff;
            font-weight: bold;
        }

        /* ä¸‹æ‹‰èœå•æ ·å¼ */
        .dropdown {
            position: relative;
            display: inline-block;
            z-index: 1001;
        }

        .dropdown-btn {
            background: linear-gradient(90deg, rgba(0, 180, 255, 0.7), rgba(60, 100, 180, 0.7));
            color: white;
            padding: 10px 20px;
            font-size: 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 0 8px rgba(0, 180, 255, 0.3);
            transition: all 0.3s ease;
        }

        .dropdown-btn:hover {
            background: linear-gradient(90deg, rgba(0, 200, 255, 0.8), rgba(80, 120, 200, 0.8));
            transform: translateY(-2px);
            box-shadow: 0 0 12px rgba(0, 180, 255, 0.5);
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background: rgba(0, 10, 30, 0.9);
            min-width: 200px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            border-radius: 5px;
            border: 1px solid rgba(0, 150, 255, 0.3);
            z-index: 1001;
            backdrop-filter: blur(10px);
        }

        .dropdown-content a {
            color: #e0e0e0;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            transition: all 0.3s ease;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .dropdown-content a:last-child {
            border-bottom: none;
        }

        .dropdown-content a:hover {
            background: rgba(0, 150, 255, 0.3);
            color: #00c8ff;
            padding-left: 20px;
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }

        .dropdown-icon {
            font-size: 18px;
        }

        /* ä¸»å®¹å™¨ */
        .container {
            width: 98%;
            max-width: 1400px;
            margin: 20px auto;
            background: rgba(0, 10, 30, 0.6);
            border-radius: 15px;
            box-shadow: 0 0 30px rgba(0, 200, 255, 0.3);
            border: 1px solid rgba(0, 180, 255, 0.4);
            overflow: hidden;
            backdrop-filter: blur(10px);
            flex-grow: 1;
            position: relative; /* æ·»åŠ ç›¸å¯¹å®šä½ */
            /* æ·»åŠ æ»šåŠ¨æ¡ */
            overflow-y: auto;
            max-height: calc(100vh - 100px); /* é™åˆ¶æœ€å¤§é«˜åº¦ï¼Œç•™å‡ºç©ºé—´ç»™header */
        }
        /* è‡ªå®šä¹‰æ»šåŠ¨æ¡æ ·å¼ */
        .container::-webkit-scrollbar {
            width: 8px;
        }

        .container::-webkit-scrollbar-track {
            background: rgba(0, 20, 40, 0.3);
            border-radius: 4px;
        }

        .container::-webkit-scrollbar-thumb {
            background: linear-gradient(to bottom, #00c8ff, #4a69bd);
            border-radius: 4px;
        }

        .container::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(to bottom, #00a8df, #3a59ad);
        }

        /* Firefoxæ»šåŠ¨æ¡æ ·å¼ */
        .container {
            scrollbar-width: thin;
            scrollbar-color: #00c8ff rgba(0, 20, 40, 0.3);
        }

        /* å†…å®¹åŒºåŸŸè°ƒæ•´ï¼Œç¡®ä¿å†…å®¹è¶³å¤Ÿé•¿å¯ä»¥æ»šåŠ¨ */
        .content {
            padding: 25px;
            min-height: 600px; /* ç¡®ä¿å†…å®¹è¶³å¤Ÿé•¿å¯ä»¥äº§ç”Ÿæ»šåŠ¨ */
        }

        

        /* å†…å®¹åŒºåŸŸ */
        .content {
            padding: 25px;
        }

        /* æŸ¥è¯¢åŒºåŸŸ */
        .query-section {
            background: rgba(0, 20, 40, 0.5);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 25px;
            border: 1px solid rgba(0, 150, 255, 0.2);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .query-title {
            font-size: 1.5em;
            margin: 0 0 15px 0;
            color: #00c8ff;
            text-align: center;
        }

        .query-tabs {
            display: flex;
            margin-bottom: 20px;
            background: rgba(0, 10, 30, 0.5);
            border-radius: 8px;
            padding: 5px;
        }

        .query-tab {
            flex: 1;
            padding: 10px;
            text-align: center;
            cursor: pointer;
            border-radius: 5px;
            transition: all 0.3s ease;
            color: #a0d0ff;
        }

        .query-tab.active {
            background: rgba(0, 150, 255, 0.3);
            color: #00c8ff;
            box-shadow: 0 0 10px rgba(0, 150, 255, 0.2);
        }

        .query-form {
            display: none;
        }

        .query-form.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #a0d0ff;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 10px 12px;
            background: rgba(0, 30, 60, 0.5);
            border: 1px solid rgba(0, 150, 255, 0.3);
            border-radius: 5px;
            color: #e0e0e0;
            font-size: 1em;
            transition: all 0.3s;
        }

        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: #00c8ff;
            box-shadow: 0 0 10px rgba(0, 200, 255, 0.3);
        }

        .query-btn {
            background: linear-gradient(90deg, #00c8ff, #4a69bd);
            border: none;
            color: white;
            padding: 12px 25px;
            border-radius: 5px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
            font-weight: bold;
            letter-spacing: 1px;
            margin-top: 10px;
        }

        .query-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 200, 255, 0.4);
        }

        /* å¤©æ°”é¢„æŠ¥åŒºåŸŸ */
        .forecast-section {
            background: rgba(0, 20, 40, 0.5);
            border-radius: 10px;
            padding: 20px;
            border: 1px solid rgba(0, 150, 255, 0.2);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .forecast-title {
            font-size: 1.5em;
            margin: 0 0 20px 0;
            color: #00c8ff;
            text-align: center;
        }

        .forecast-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .forecast-card {
            background: rgba(0, 30, 60, 0.5);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            border: 1px solid rgba(0, 150, 255, 0.2);
            transition: all 0.3s ease;
        }

        .forecast-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 200, 255, 0.2);
            border-color: rgba(0, 200, 255, 0.5);
        }

        .forecast-date {
            font-size: 1.1em;
            color: #00c8ff;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .forecast-temp {
            font-size: 1.5em;
            color: #ff6b6b;
            margin: 5px 0;
            font-weight: bold;
        }

        .forecast-temp-min {
            font-size: 1em;
            color: #4ecdc4;
            margin: 5px 0;
        }

        .forecast-detail {
            font-size: 0.9em;
            color: #a0d0ff;
            margin: 3px 0;
        }

        .forecast-icon {
            font-size: 2.5em;
            margin: 10px 0;
            color: #00c8ff;
        }

        /* åŠ è½½å’Œé”™è¯¯æç¤º */
        .loading {
            text-align: center;
            padding: 30px;
            color: #a0d0ff;
        }

        .error-message {
            background: rgba(231, 76, 60, 0.2);
            color: #e74c3c;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            text-align: center;
            border: 1px solid rgba(231, 76, 60, 0.3);
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .container {
                width: 95%;
                margin: 15px auto;
            }
            
            .header-title {
                font-size: 1.8em;
            }
            
            .header-date {
                left: 0;
                font-size: 0.9em;
            }
            
            .forecast-container {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            }
            
            .dropdown-btn {
                padding: 8px 15px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <!-- å¤´éƒ¨ -->
    <div class="header">
        <!-- å·¦ä¾§ä¸‹æ‹‰èœå• -->
        <div class="dropdown">
            <button class="dropdown-btn">
                <i class="dropdown-icon">â˜°</i> å¯¼èˆªèœå•
            </button>
            <div class="dropdown-content">
                <a href="dashboard.html">æ°”è±¡ç›‘æµ‹å¤§å±</a>
                <a href="data-analysis.html">æ•°æ®åˆ†æä¸­å¿ƒ</a>
                <a href="device-management.html">è®¾å¤‡ç®¡ç†ç³»ç»Ÿ</a>
                <a href="weather-forecast.html">æ°”è±¡é¢„æŠ¥</a>
                <a href="alert-center.html">é¢„è­¦ä¸­å¿ƒ</a>
                <a href="user-center.html">ç”¨æˆ·ä¸ªäººä¸­å¿ƒ</a>
            </div>
        </div>
        <h1 class="header-title">æ°”è±¡é¢„æŠ¥</h1>
        <span class="header-date" id="current-date-time"></span>
    </div>

    <!-- ä¸»å®¹å™¨ -->
    <div class="container">
        <div class="content">
            <!-- æŸ¥è¯¢åŒºåŸŸ -->
            <div class="query-section">
                <h2 class="query-title">å¤©æ°”é¢„æŠ¥æŸ¥è¯¢</h2>
                
                <div class="query-tabs">
                    <div class="query-tab active" data-tab="county">æŒ‰å¿åç§°æŸ¥è¯¢</div>
                    <div class="query-tab" data-tab="coords">æŒ‰ç»çº¬åº¦æŸ¥è¯¢</div>
                </div>
                
                <!-- å¿åç§°æŸ¥è¯¢è¡¨å• -->
                <form id="countyForm" class="query-form active">
                    <div class="form-group">
                        <label for="county">é€‰æ‹©å¿åç§°</label>
                        <select id="county" required>
                            <option value="">è¯·é€‰æ‹©å¿åç§°</option>
                            <option value="å’Œç”°å¸‚">å’Œç”°å¸‚</option>
                            <option value="å’Œç”°å¿">å’Œç”°å¿</option>
                            <option value="å¢¨ç‰å¿">å¢¨ç‰å¿</option>
                            <option value="çš®å±±å¿">çš®å±±å¿</option>
                            <option value="æ´›æµ¦å¿">æ´›æµ¦å¿</option>
                            <option value="ç­–å‹’å¿">ç­–å‹’å¿</option>
                            <option value="äºç”°å¿">äºç”°å¿</option>
                            <option value="æ°‘ä¸°å¿">æ°‘ä¸°å¿</option>
                            <option value="ä¸”æœ«å¿">ä¸”æœ«å¿</option>
                        </select>
                    </div>
                    <button type="submit" class="query-btn">æŸ¥è¯¢å¤©æ°”é¢„æŠ¥</button>
                </form>
                
                <!-- ç»çº¬åº¦æŸ¥è¯¢è¡¨å• -->
                <form id="coordsForm" class="query-form">
                    <div class="form-group">
                        <label for="longitude">ç»åº¦</label>
                        <input type="number" id="longitude" step="0.0001" placeholder="è¯·è¾“å…¥ç»åº¦" required>
                    </div>
                    <div class="form-group">
                        <label for="latitude">çº¬åº¦</label>
                        <input type="number" id="latitude" step="0.0001" placeholder="è¯·è¾“å…¥çº¬åº¦" required>
                    </div>
                    <button type="submit" class="query-btn">æŸ¥è¯¢å¤©æ°”é¢„æŠ¥</button>
                </form>
            </div>
            
            <!-- å¤©æ°”é¢„æŠ¥åŒºåŸŸ -->
            <div class="forecast-section">
                <h2 class="forecast-title">æœªæ¥ä¸ƒæ—¥å¤©æ°”é¢„æŠ¥</h2>
                <div id="forecast-container" class="forecast-container">
                    <div class="loading">è¯·é€‰æ‹©æŸ¥è¯¢æ¡ä»¶è·å–å¤©æ°”é¢„æŠ¥æ•°æ®</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // è·å–å½“å‰æ—¥æœŸå’Œæ—¶é—´å¹¶æ ¼å¼åŒ–
        function updateDateTime() {
            const now = new Date();
            const year = now.getFullYear();
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const day = String(now.getDate()).padStart(2, '0');
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            const weekDays = ['æ˜ŸæœŸæ—¥', 'æ˜ŸæœŸä¸€', 'æ˜ŸæœŸäºŒ', 'æ˜ŸæœŸä¸‰', 'æ˜ŸæœŸå››', 'æ˜ŸæœŸäº”', 'æ˜ŸæœŸå…­'];
            const weekDay = weekDays[now.getDay()];

            const formattedDate = `${year}-${month}-${day} ${weekDay} ${hours}:${minutes}:${seconds}`;
            document.getElementById('current-date-time').textContent = formattedDate;
        }

        // åˆå§‹åŒ–æ—¶ç«‹å³æ›´æ–°ä¸€æ¬¡
        updateDateTime();

        // æ¯ç§’æ›´æ–°ä¸€æ¬¡æ—¶é—´
        setInterval(updateDateTime, 1000);




        // API åŸºç¡€URL
        const API_BASE_URL = '/api/weather';
        

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            updateDateTime();
            setInterval(updateDateTime, 1000);
            bindEvents();
        });


        // ç»‘å®šäº‹ä»¶
        function bindEvents() {
            // æŸ¥è¯¢æ ‡ç­¾åˆ‡æ¢
            document.querySelectorAll('.query-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    // ç§»é™¤æ‰€æœ‰æ ‡ç­¾çš„activeç±»
                    document.querySelectorAll('.query-tab').forEach(t => t.classList.remove('active'));
                    // æ·»åŠ activeç±»åˆ°å½“å‰æ ‡ç­¾
                    this.classList.add('active');
                    
                    // éšè—æ‰€æœ‰è¡¨å•
                    document.querySelectorAll('.query-form').forEach(form => form.classList.remove('active'));
                    // æ˜¾ç¤ºå¯¹åº”è¡¨å•
                    const tabName = this.getAttribute('data-tab');
                    document.getElementById(`${tabName}Form`).classList.add('active');
                });
            });
            
            // å¿åç§°æŸ¥è¯¢è¡¨å•æäº¤
            document.getElementById('countyForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                const county = document.getElementById('county').value;
                if (!county) {
                    alert('è¯·é€‰æ‹©å¿åç§°');
                    return;
                }
                
                await fetchWeatherByCounty(county);
            });
            
            // ç»çº¬åº¦æŸ¥è¯¢è¡¨å•æäº¤
            document.getElementById('coordsForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                const lon = document.getElementById('longitude').value;
                const lat = document.getElementById('latitude').value;
                
                if (!lon || !lat) {
                    alert('è¯·è¾“å…¥ç»åº¦å’Œçº¬åº¦');
                    return;
                }
                
                await fetchWeatherByCoords(lon, lat);
            });
        }

        // æŒ‰å¿åç§°æŸ¥è¯¢å¤©æ°”
        async function fetchWeatherByCounty(county) {
            const token = localStorage.getItem('token');
            if (!token) {
                alert('è¯·å…ˆç™»å½•');
                window.location.href = '/';
                return;
            }
            
            showLoading();
            
            try {
                const response = await fetch(`${API_BASE_URL}/forecast-county`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': 'Bearer ' + token
                    },
                    body: JSON.stringify({ county })
                });
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const result = await response.json();
                
                if (result.success) {
                    displayForecast(result.data.forecastData, county);
                } else {
                    showError('è·å–å¤©æ°”é¢„æŠ¥å¤±è´¥: ' + (result.message || 'æœªçŸ¥é”™è¯¯'));
                }
            } catch (error) {
                console.error('è·å–å¤©æ°”é¢„æŠ¥å¤±è´¥:', error);
                showError('è·å–å¤©æ°”é¢„æŠ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥');
            }
        }

        // æŒ‰ç»çº¬åº¦æŸ¥è¯¢å¤©æ°”
        async function fetchWeatherByCoords(lon, lat) {
            const token = localStorage.getItem('token');
            if (!token) {
                alert('è¯·å…ˆç™»å½•');
                window.location.href = '/';
                return;
            }
            
            showLoading();
            
            try {
                const response = await fetch(`${API_BASE_URL}/forecast?lon=${lon}&lat=${lat}`, {
                    method: 'GET',
                    headers: {
                        'Authorization': 'Bearer ' + token
                    }
                });
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const result = await response.json();
                
                if (result.success) {
                    displayForecast(result.data.forecastData, `ç»åº¦: ${lon}, çº¬åº¦: ${lat}`);
                } else {
                    showError('è·å–å¤©æ°”é¢„æŠ¥å¤±è´¥: ' + (result.message || 'æœªçŸ¥é”™è¯¯'));
                }
            } catch (error) {
                console.error('è·å–å¤©æ°”é¢„æŠ¥å¤±è´¥:', error);
                showError('è·å–å¤©æ°”é¢„æŠ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥');
            }
        }

        // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
        function showLoading() {
            document.getElementById('forecast-container').innerHTML = '<div class="loading">æ­£åœ¨åŠ è½½å¤©æ°”é¢„æŠ¥æ•°æ®...</div>';
        }

        // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
        function showError(message) {
            document.getElementById('forecast-container').innerHTML = `<div class="error-message">${message}</div>`;
        }

        // æ˜¾ç¤ºå¤©æ°”é¢„æŠ¥
        function displayForecast(forecastData, location) {
            if (!forecastData || forecastData.length === 0) {
                showError('æœªæ‰¾åˆ°å¤©æ°”é¢„æŠ¥æ•°æ®');
                return;
            }
            
            const forecastContainer = document.getElementById('forecast-container');
            forecastContainer.innerHTML = '';
            
            // æ›´æ–°æ ‡é¢˜æ˜¾ç¤ºä½ç½®ä¿¡æ¯
            document.querySelector('.forecast-title').textContent = `æœªæ¥ä¸ƒæ—¥å¤©æ°”é¢„æŠ¥ - ${location}`;
            
            forecastData.forEach(day => {
                const forecastCard = document.createElement('div');
                forecastCard.className = 'forecast-card';
                
                // æ ¼å¼åŒ–æ—¥æœŸ
                const date = new Date(day.date);
                const dateStr = date.toLocaleDateString('zh-CN', {
                    month: '2-digit',
                    day: '2-digit',
                    weekday: 'short'
                });
                
                // è·å–å¤©æ°”å›¾æ ‡
                const weatherIcon = getWeatherIcon(day.temperatureMax, day.humidity);
                
                forecastCard.innerHTML = `
                    <div class="forecast-date">${dateStr}</div>
                    <div class="forecast-icon">${weatherIcon}</div>
                    <div class="forecast-temp">${day.temperatureMax}Â°C</div>
                    <div class="forecast-temp-min">${day.temperatureMin}Â°C</div>
                    <div class="forecast-detail">æ¹¿åº¦: ${day.humidity}%</div>
                    <div class="forecast-detail">é£é€Ÿ: ${day.windSpeed} m/s</div>
                    <div class="forecast-detail">é£å‘: ${getWindDirection(day.windDirection)}</div>
                `;
                
                forecastContainer.appendChild(forecastCard);
            });
        }

        // è·å–å¤©æ°”å›¾æ ‡
        function getWeatherIcon(temp, humidity) {
            if (temp > 30) return 'â˜€ï¸'; // æ™´å¤©
            if (temp > 20) return 'â›…'; // å¤šäº‘
            if (temp > 10) return 'ğŸŒ¤ï¸'; // å°‘äº‘
            if (temp > 0) return 'ğŸŒ§ï¸'; // é›¨å¤©
            return 'â„ï¸'; // é›ªå¤©
        }

        // è·å–é£å‘æ–‡å­—
        function getWindDirection(degrees) {
            if (degrees >= 337.5 || degrees < 22.5) return 'åŒ—é£';
            if (degrees >= 22.5 && degrees < 67.5) return 'ä¸œåŒ—é£';
            if (degrees >= 67.5 && degrees < 112.5) return 'ä¸œé£';
            if (degrees >= 112.5 && degrees < 157.5) return 'ä¸œå—é£';
            if (degrees >= 157.5 && degrees < 202.5) return 'å—é£';
            if (degrees >= 202.5 && degrees < 247.5) return 'è¥¿å—é£';
            if (degrees >= 247.5 && degrees < 292.5) return 'è¥¿é£';
            if (degrees >= 292.5 && degrees < 337.5) return 'è¥¿åŒ—é£';
            return 'æœªçŸ¥é£å‘';
        }
    </script>
</body>
</html>